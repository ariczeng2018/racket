(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{332:function(e,t,a){e.exports=a(636)},340:function(e,t,a){},346:function(e,t,a){},404:function(e,t,a){},407:function(e,t,a){},412:function(e,t,a){},420:function(e,t,a){},475:function(e,t,a){},631:function(e,t,a){},635:function(e,t,a){},636:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(8),o=a.n(c),l=(a(337),a(304)),i=a(26),u=a(27),s=a(30),m=a(28),d=a(31),p=(a(158),a(73)),h="Racket",f="Racket Dashboard  \xa9 2018 carlomazzaferro",b=!0,y="admin",E="https://raw.githubusercontent.com/carlomazzaferro/racket/master/docs/images/table-tennis.svg",O=[{id:"1",icon:"laptop",name:"Dashboard",router:"/dashboard"}],v=(a(340),a(22)),j=a(279),g=a.n(j),k=(a(345),a(346),g.a),_=(a(126),a(9)),w=(a(200),a(37)),A=a(103),C=a(36),x=w.b.SubMenu,S=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.collapsed;return r.a.createElement(w.b,{mode:"inline",theme:"light",inlineCollapsed:e,defaultSelectedKeys:["1"]},r.a.createElement(w.b.Item,{key:["1"]},r.a.createElement(A.b,{to:"/dashboard"},r.a.createElement(_.a,{type:"dashboard"}),r.a.createElement("span",null,"Dashboard")),")"),r.a.createElement(x,{key:"sub1",title:r.a.createElement("span",null,r.a.createElement(_.a,{type:"dot-chart"}),r.a.createElement("span",null,"Models"))},r.a.createElement(w.b.Item,{key:"3"},r.a.createElement(A.b,{to:"/models"},r.a.createElement("span",null,"Available Models"))),r.a.createElement(w.b.Item,{key:"4"},r.a.createElement(A.b,{to:"/model/"+this.props.active},r.a.createElement("span",null,"Active model")))),r.a.createElement(w.b.Item,{key:"9"},r.a.createElement(_.a,{type:"pushpin"}),r.a.createElement("span",null,"Actions")))}}]),t}(n.PureComponent),T=Object(C.b)(function(e){return{active:e.loader.active_id}})(S),I=(a(404),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a.Sider,{className:"siderBar",width:256,theme:"light",breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.props.collapsed},r.a.createElement("div",{className:"brand"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{alt:"logo",src:"https://raw.githubusercontent.com/carlomazzaferro/racket/master/docs/images/table-tennis_60px.png"}),this.props.collapsed?null:r.a.createElement("div",null,r.a.createElement("h1",null,h),r.a.createElement("p",null,"Serve models with confidence")))),r.a.createElement("div",{className:"menuContainer"},r.a.createElement(k,{option:{suppressScrollX:!0}},r.a.createElement(T,{theme:"light",collapsed:this.props.collapsed}))))}}]),t}(n.PureComponent)),N=Object(C.b)(function(e){return Object(v.a)({},e.header)})(I),D=(a(405),a(283)),L=a(2),M=a.n(L),F=(a(407),w.b.SubMenu),P=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleClickMenu=function(e){console.log(e)},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fixed,a=e.avatar,c=e.username,o=[r.a.createElement(w.b,{key:"user",mode:"horizontal",onClick:this.handleClickMenu},r.a.createElement(F,{title:r.a.createElement(n.Fragment,null,r.a.createElement("span",null,c),r.a.createElement(D.a,{style:{marginLeft:8},src:a}))},r.a.createElement(w.b.Item,{key:"SignOut"})))];return r.a.createElement(p.a.Header,{className:M()("header",{fixed:t,collapsed:this.props.collapsed}),id:"layoutHeader"},r.a.createElement("div",{className:"button",onClick:this.props.collapse},r.a.createElement(_.a,{type:M()({"menu-unfold":this.props.collapsed,"menu-fold":!this.props.collapsed})})),r.a.createElement("div",{className:"rightContainer"},o))}}]),t}(n.PureComponent),H=Object(C.b)(function(e){return Object(v.a)({},e.header)},function(e){return{collapse:function(){return e({type:"COLLAPSE_HEADER"})}}})(P),R=(a(408),a(207)),z=(a(412),function(e){function t(){var e,a;Object(i.a)(this,t);for(var c=arguments.length,o=new Array(c),l=0;l<c;l++)o[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).generateBreadcrumbs=function(e){return e.map(function(e,t){var a=r.a.createElement(n.Fragment,null,e.icon?r.a.createElement(_.a,{type:e.icon,style:{marginRight:4}}):null,e.name);return r.a.createElement(R.a.Item,{key:t},a)})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=[this.props.routeList[0],{id:404,name:"Not Found"}];return r.a.createElement(R.a,{className:"bread"},this.generateBreadcrumbs(e))}}]),t}(n.PureComponent)),B=a(120),K=(a(277),a(153)),W=a(303),V=(a(420),a(74)),q=a.n(V),J=a(17),Y=a.n(J),U=(a(421),a(302)),X=(a(173),a(57)),$=(a(174),a(38)),G=(a(637),a(301).a.RangePicker),Q={xs:24,sm:12,style:{marginBottom:16}},Z=Object(v.a)({},Q,{xl:96}),ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){console.log(e),a.props.setFilter({start:e[0],end:e[1]})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(X.a,{gutter:24},r.a.createElement($.a,Object.assign({},Q,{xl:{span:6},md:{span:8},sm:{span:12},id:"createTimeRangePicker"}),r.a.createElement(G,{style:{width:"100%"},onChange:this.onChange,getCalendarContainer:function(){return document.getElementById("createTimeRangePicker")}})),r.a.createElement($.a,Object.assign({},Z,{xl:{span:10},md:{span:24},sm:{span:24}})))}}]),t}(n.PureComponent),te=Object(C.b)(function(){return{}},function(e){return{setFilter:function(t){return e(function(e){return{type:"SET_DATE_FILTERS",payload:e}}(t))}}})(U.a.create({name:"filter_stuff"})(ee)),ae=(a(475),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.children,n=e.inner,c=void 0!==n&&n;return r.a.createElement("div",{className:M()(t,{contentInner:c})},a)}}]),t}(n.Component)),ne=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.models,n=t.unique,c=t.dateFilter,o=Object(W.a)(t,["models","unique","dateFilter"]);c[0]&&c[1]&&(a=this.props.models.filter(function(t){return Y()(t.created_at).isBetween(e.props.dateFilter[0],e.props.dateFilter[1])}));var l=[{title:"ID",dataIndex:"model_id",key:"model_id",width:72,fixed:"left",render:function(e){return r.a.createElement("a",{href:"model/".concat(e)},e)}},{title:"Name",dataIndex:"model_name",key:"model_name",width:180,filters:n.names.map(function(e){return{text:e,value:e}}),filterMultiple:!1,onFilter:function(e,t){return 0===t.model_name.indexOf(e)},sorter:function(e,t){return e.model_name.length-t.model_name.length}},{title:"Major",dataIndex:"major",key:"major",sorter:function(e,t){return e.major-t.major}},{title:"Minor",dataIndex:"minor",key:"minor",sorter:function(e,t){return e.minor-t.minor}},{title:"Patch",dataIndex:"patch",key:"patch",sorter:function(e,t){return e.patch-t.patch}},{title:"Created At",dataIndex:"created_at",key:"created_at",sorter:function(e,t){return Y()(e.created_at,t.created_at)}},{title:"Model Type",dataIndex:"model_type",key:"model_type",filters:n.model_types.map(function(e){return{text:e,value:e}}),filterMultiple:!1,onFilter:function(e,t){return 0===t.model_type.indexOf(e)},sorter:function(e,t){return e.model_type.length-t.model_type.length}},{title:"Parameters",dataIndex:"parameters",key:"parameters",render:function(e){if(void 0===e)return{};var t=q.a.pickBy(JSON.parse(e.params)),a=q.a.sampleSize(Object.keys(t),2).map(function(e){return e+"="+t[e]}).join(", ");return r.a.createElement("div",null,r.a.createElement("a",{href:"model/".concat(e.id)}," ",a.slice(0,20),"... ",r.a.createElement(_.a,{type:"link"})," "))}}];return r.a.createElement(ae,{inner:!0},r.a.createElement(te,{filter:{}}),r.a.createElement(K.a,{dataSource:a,pagination:Object(v.a)({},o.pagination,{showTotal:function(e){return"Total ".concat(e," Items")}}),className:"table",columns:l,rowKey:function(e){return e.id}}))}}]),t}(n.PureComponent),re=Object(C.b)(function(e){return{models:e.loader.models.map(function(e){return Object(v.a)({},e,{parameters:{params:e.parameters,id:e.model_id}})}),unique:{names:Object(B.a)(new Set(e.loader.models.map(function(e){return e.model_name}))),model_types:Object(B.a)(new Set(e.loader.models.map(function(e){return e.model_type})))},dateFilter:[e.loader.start,e.loader.end]}})(ne),ce=a(66),oe=a.n(ce),le=a(122),ie="http://localhost:8000/api/v1",ue=(a(278),a(119)),se=a(54),me=(a(631),function(e){var t=e.children,a=e.ratio,n=void 0===a?2.5:a,c=e.minHeight,o=void 0===c?250:c,l=e.maxHeight,i=void 0===l?350:l;return r.a.createElement("div",{className:"chart_container",style:{minHeight:o,maxHeight:i}},r.a.createElement("div",{style:{marginTop:"".concat(100/n,"%")||!1}}),r.a.createElement("div",{className:"chart_content",style:{minHeight:o,maxHeight:i}},r.a.createElement(se.e,null,t)))}),de=function(e){return r.a.createElement(me,null,r.a.createElement(se.d,{data:e.data,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(se.g,{dataKey:"name"}),r.a.createElement(se.h,null),r.a.createElement(se.a,{strokeDasharray:"3 3"}),r.a.createElement(se.f,null),r.a.createElement(se.b,null),r.a.createElement(se.c,{type:"linear",dataKey:e.keys[0],stroke:"#8884d8",activeDot:{r:8}}),r.a.createElement(se.c,{type:"linear",dataKey:e.keys[1],stroke:"#82ca9d"})))},pe=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ue.a,{title:"Accuracy"},r.a.createElement(de,{data:this.props.data,keys:["val_acc","acc"]})),r.a.createElement(ue.a,{style:{marginTop:"30px"},title:"Loss"},r.a.createElement(de,{data:this.props.data,keys:["val_loss","loss"]})))}}]),t}(r.a.Component),he=a(95),fe=(a(635),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.version,a=e.name,n=e.model_id,c=e.type,o=[{name:"Name",val:a},{name:"Version",val:t},{name:"Created At",val:e.created_at},{name:"Type",val:c},{name:"ID",val:n}];return r.a.createElement("div",null,o.map(function(e,t){return r.a.createElement("div",{key:t,className:"titles"},e.name,": ",r.a.createElement("span",{className:"values"}," ",e.val," "))}))}}]),t}(r.a.Component)),be=(a(225),a(154)),ye=[{title:"Name",dataIndex:"name",key:"name",render:function(e){return r.a.createElement("a",{href:"/#"},e)}},{title:"Value",dataIndex:"value",key:"value",render:function(e){return Array.isArray(e)?r.a.createElement("span",null,e.map(function(e){var t=e.startsWith("val")?"geekblue":"volcano";return r.a.createElement(be.a,{color:t,key:e},e.toUpperCase())})):e.toString()}}],Ee=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.params,t=function(e){return q.a.map(e,function(e,t){return null!==e?{name:t,value:e}:{name:t,value:"None"}})}(JSON.parse(e)).map(function(e,t){return Object(v.a)({},e,{key:t})});return r.a.createElement(K.a,{columns:ye,dataSource:t})}}]),t}(r.a.Component),Oe=[{key:"tab1",tab:"At a glance"},{key:"tab2",tab:"Parameters"}],ve=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={key:"tab1",noTitleKey:"app"},a.onTabChange=function(e,t){a.setState(Object(he.a)({},t,e))},a.mmpToStr=function(e,t,a){return"".concat(e,".").concat(t,".").concat(a)},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.created_at,c=a.major,o=a.minor,l=a.patch,i=a.model_id,u=a.model_name,s=a.model_type,m=a.parameters,d={tab1:{version:this.mmpToStr(c,o,l),name:u,model_id:i,type:s,created_at:n},tab2:{params:m}};return r.a.createElement("div",null,r.a.createElement(ue.a,{style:{width:"100%"},title:"Active Model",extra:r.a.createElement("a",{href:"/#"},"More"),tabList:Oe,activeTabKey:this.state.key,onTabChange:function(e){t.onTabChange(e,"key")}},(e=d[this.state.key],{tab1:r.a.createElement(fe,e),tab2:r.a.createElement(Ee,e)})[this.state.key]))}}]),t}(r.a.Component),je=Object(C.b)(function(e){return Object(v.a)({},e.loader.selected)})(ve),ge=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.loadHistory(this.props.model_id),this.props.loadSelectedModel(this.props.model_id)}},{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e={lg:12,md:24};return r.a.createElement(ae,{inner:!0},r.a.createElement("div",{className:"content-inner"},r.a.createElement(X.a,{gutter:32},r.a.createElement($.a,e,r.a.createElement(je,null)),r.a.createElement($.a,e,r.a.createElement(pe,{data:this.props.history})))))}}]),t}(r.a.Component),ke=Object(C.b)(function(e){return{selected:e.loader.selected,active:e.loader.active_id,chartKeys:e.loader.keys,history:e.loader.model_history}},function(e){return{loadHistory:function(t){return e(function(e){return function(){var t=Object(le.a)(oe.a.mark(function t(a){return oe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch(ie+"/model/historic?model_id="+e.toString(),{}).then(function(e){return e.json()}).then(function(e){return a({type:"LOAD_MODEL_HISTORY",payload:e}),Object(v.a)({},e,{status:200})}).catch(function(e){return e}));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))},loadSelectedModel:function(t){return e(function(e){return function(){var t=Object(le.a)(oe.a.mark(function t(a){return oe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch(ie+"/model/all?model_id=".concat(e)).then(function(e){return e.json()}).then(function(e){return a({type:"LOAD_SELECTED",payload:e}),Object(v.a)({},e,{status:200})}).catch(function(e){return e}));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))}}})(ge),_e=p.a.Content,we=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.props.loadAll(),this.props.loadActive()}},{key:"render",value:function(){var e=this,t=this.props.page,a={avatar:E,username:y,fixed:b},c={currentItem:{},modalVisible:!1,modalType:"create",selectedRowKeys:[]};return r.a.createElement(n.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(N,null),r.a.createElement("div",{className:"container",style:{paddingTop:b?72:0},id:"primaryLayout"},r.a.createElement(H,a),r.a.createElement(_e,{className:"content"},r.a.createElement("div",null,r.a.createElement(z,{routeList:O}),function(){switch(t){case"models":return r.a.createElement(re,{user:c});case"model":var a=parseInt(e.props.match.params.id);return r.a.createElement(ke,{model_id:a});default:return r.a.createElement(re,{user:c})}}())),r.a.createElement(l.a,{className:"backTop",target:function(){return document.querySelector("#primaryLayout")}}),r.a.createElement(p.a.Footer,{style:{textAlign:"center"},className:"footer"},f))))}}]),t}(n.PureComponent),Ae=Object(C.b)(function(e){return{active:e.loader.active}},function(e){return{loadAll:function(){return e(function(){var e=Object(le.a)(oe.a.mark(function e(t){return oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(ie+"/model/all").then(function(e){return e.json()}).then(function(e){return t({type:"LOAD_DATA",payload:e}),Object(v.a)({},e,{status:200})}).catch(function(e){return e}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},loadActive:function(){return e(function(){var e=Object(le.a)(oe.a.mark(function e(t){return oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(ie+"/model/active").then(function(e){return e.json()}).then(function(e){return t({type:"LOAD_ACTIVE",payload:e}),Object(v.a)({},e,{status:200})}).catch(function(e){return e}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}}})(we);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ce=a(75),xe=a(84),Se=a(300),Te=Object(xe.c)({loader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{active_id:null,selected:{},models:[],model_history:[],start:null,end:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_SELECTED":return Object(v.a)({},e,{selected:t.payload});case"LOAD_ACTIVE":return Object(v.a)({},e,{active_id:t.payload.model_id});case"LOAD_DATA":return Object(v.a)({},e,{models:t.payload});case"LOAD_MODEL_HISTORY":var a=Object.keys(t.payload),n=a.map(function(e){return t.payload[e].map(function(t){return Object(he.a)({},e,Number(t.toFixed(4)))})}),r=q.a.zipWith.apply(q.a,Object(B.a)(n).concat([function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.reduce(function(e,t){return Object(v.a)({},e,t)})}])).map(function(e,t){return Object(v.a)({},e,{name:"Epoch: ".concat(t+1)})});return Object(v.a)({},e,{model_history:r,keys:a});case"SET_DATE_FILTERS":return Object(v.a)({},e,{start:t.payload.start,end:t.payload.end});default:return Object(v.a)({},e)}},header:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{collapsed:!1};switch((arguments.length>1?arguments[1]:void 0).type){case"COLLAPSE_HEADER":return{collapsed:!e.collapsed};default:return Object(v.a)({},e)}}}),Ie=Object(xe.d)(Te,Object(xe.a)(Se.a));o.a.render(r.a.createElement(C.a,{store:Ie},r.a.createElement(A.a,null,r.a.createElement(Ce.d,null,r.a.createElement(Ce.b,{exact:!0,path:"/models",render:function(e){return r.a.createElement(Ae,Object.assign({},e,{page:"models"}))}}),r.a.createElement(Ce.b,{path:"/model/:id",render:function(e){return r.a.createElement(Ae,Object.assign({},e,{page:"model"}))}}),r.a.createElement(Ce.b,{path:"/"},r.a.createElement(Ce.a,{to:"/models"}))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[332,1,2]]]);
//# sourceMappingURL=main.816293ed.chunk.js.map